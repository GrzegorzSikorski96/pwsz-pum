(function(e){function t(t){for(var r,s,o=t[0],c=t[1],l=t[2],d=0,m=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&m.push(n[s][0]),n[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(m.length)m.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],r=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=a[0]))}return e}var r={},n={app:0},i=[];function s(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=r,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(a,r,function(t){return e[t]}.bind(null,r));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var r=a("19b3"),n=a.n(r);n.a},"0a07":function(e,t,a){"use strict";var r=a("fc4a"),n=a.n(r);n.a},"19b3":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=a("ecee"),i=a("c074"),s=a("f2d1"),o=a("ad3d");n["c"].add(i["a"]),n["c"].add(s["a"]),r["a"].component("font-awesome-icon",o["a"]);var c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{attrs:{id:"app"}},[a("v-navigation-drawer",{attrs:{app:"",clipped:"",dark:""},scopedSlots:e._u([{key:"append",fn:function(){return[e.currentUser?a("v-list-item",{attrs:{link:"",ripple:{class:"red-text"}},on:{click:e.logout}},[a("v-list-item-action",[a("font-awesome-icon",{staticClass:"red--text",attrs:{icon:"sign-out-alt",size:"lg"}})],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"red--text"},[e._v("Wyloguj")])],1)],1):a("router-link",{staticClass:"route",attrs:{to:{name:"Login"}}},[a("v-list-item",{attrs:{link:"",ripple:{class:"green-text"}}},[a("v-list-item-action",[a("font-awesome-icon",{staticClass:"green--text",attrs:{icon:"sign-in-alt",size:"lg"}})],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"green--text"},[e._v("Zaloguj")])],1)],1)],1)]},proxy:!0}]),model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("NavigationDrawerItems")],1),a("Toolbar",[a("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}})],1),a("v-content",[a("router-view")],1),a("Footer")],1)},l=[],u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-footer",{attrs:{app:"",inset:""}},[a("v-spacer"),e._l(e.links,(function(e){return a("v-btn",{key:e.url,class:e.color+"--text",attrs:{href:e.url,icon:""}},[a("font-awesome-icon",{attrs:{icon:["fab",e.icon]}})],1)})),a("v-spacer"),e._v(" © 2019 ")],2)},d=[],m={data:function(){return{links:[]}}},p=m,v=a("2877"),h=a("6544"),f=a.n(h),g=a("8336"),w=a("553a"),b=a("2fa4"),x=Object(v["a"])(p,u,d,!1,null,"cd3fc460",null),_=x.exports;f()(x,{VBtn:g["a"],VFooter:w["a"],VSpacer:b["a"]});var y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app-bar",{attrs:{app:"","clipped-left":"",light:""}},[e._t("default"),a("v-toolbar-title",[e._v(e._s(e.applicationName))])],2)},k=[],C={data:function(){return{drawer:null,applicationName:"Programowanie Urządzeń Mobilnych"}}},P=C,V=a("40dc"),M=a("2a7f"),z=Object(v["a"])(P,y,k,!1,null,"1f7136b9",null),$=z.exports;f()(z,{VAppBar:V["a"],VToolbarTitle:M["a"]});var j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-list",{attrs:{dense:"",shaped:""}},e._l(e.links,(function(t){return a("span",{key:t.name},e._l(t.links,(function(r){return a("span",{key:r.route},[e.checkPermitted(r,t)?a("v-list-item",{staticClass:"route",attrs:{ripple:"",link:"",to:{name:r.route},exact:""}},[a("v-list-item-action",[a("font-awesome-icon",{attrs:{icon:r.icon,size:"lg"}})],1),a("v-list-item-content",[a("v-list-item-title",[e._v(" "+e._s(r.label)+" ")])],1)],1):e._e()],1)})),0)})),0)},O=[],T=(a("caad"),a("b0c0"),a("2532"),{data:function(){return{drawer:null,logged:!0,links:[{name:"Główne",links:[{route:"HomePage",label:"Strona głowna",icon:"home",available:!0}]},{name:"Urządzenia",links:[{route:"Devices",label:"Lista urządzeń",icon:"tablet-alt"},{route:"Create",label:"Dodaj urządzenie",icon:"plus-square"}]},{name:"Użytkownicy",links:[{route:"Users",label:"Lista użytkowników",icon:"users"},{route:"CreateUser",label:"Dodaj użytkownika",icon:"plus"}]}]}},methods:{checkPermitted:function(e){return!this.$router.resolve({name:e.route}).route.meta.roles||!!this.$store.state.currentUser&&this.$router.resolve({name:e.route}).route.meta.roles.includes(this.$store.state.currentUser.role.name)}}}),S=T,R=a("8860"),U=a("da13"),L=a("1800"),I=a("5d23"),D=Object(v["a"])(S,j,O,!1,null,"87cea1f4",null),N=D.exports;f()(D,{VList:R["a"],VListItem:U["a"],VListItemAction:L["a"],VListItemContent:I["a"],VListItemTitle:I["c"]});var E={data:function(){return{drawer:null,logged:!1}},components:{Toolbar:$,NavigationDrawerItems:N,Footer:_},methods:{logout:function(){this.$store.commit("logout"),this.$router.push("/login")}},computed:{currentUser:function(){return this.$store.getters.currentUser}}},F=E,H=(a("034f"),a("7496")),q=a("5bc1"),B=a("a75b"),A=a("f774"),W=Object(v["a"])(F,c,l,!1,null,null,null),Z=W.exports;f()(W,{VApp:H["a"],VAppBarNavIcon:q["a"],VContent:B["a"],VListItem:U["a"],VListItemAction:L["a"],VListItemContent:I["a"],VListItemTitle:I["c"],VNavigationDrawer:A["a"]});var G=a("8c4f"),J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","fill-height":""}},e._l(e.devices,(function(t){return a("v-card",{key:t.id,staticClass:"mx-auto mt-3",attrs:{color:"#F9F9F9","max-width":"400"}},[a("v-list-item",{attrs:{"two-line":""}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"headline"},[e._v(e._s(t.Name))]),a("v-list-item-subtitle",[e._v("Ostatni pomiar: "+e._s(t.measurements[0].created_at))])],1)],1),a("v-card-text",[a("v-row",{staticClass:"title",attrs:{dense:""}},[a("span",{staticClass:"font-weight-bold text--primary mr-1"},[e._v("Temperatura: ")]),e._v(" "+e._s(t.measurements[0].Temperature)+"°C ")]),a("v-row",{staticClass:"title",attrs:{dense:""}},[a("span",{staticClass:"font-weight-bold text--primary mr-1"},[e._v("PM1: ")]),a("span",{class:e.getColor(t.measurements[0].PM10,"PM1")},[e._v(e._s(t.measurements[0].PM1)+"ug/m3")])]),a("v-row",{staticClass:"title",attrs:{dense:""}},[a("span",{staticClass:"font-weight-bold text--primary mr-1"},[e._v("PM2.5: ")]),a("span",{class:e.getColor(t.measurements[0].PM10,"PM25")},[e._v(e._s(t.measurements[0].PM25)+"ug/m3")])]),a("v-row",{staticClass:"title",attrs:{dense:""}},[a("span",{staticClass:"font-weight-bold text--primary mr-1"},[e._v("PM10: ")]),a("span",{class:e.getColor(t.measurements[0].PM10,"PM10")},[e._v(e._s(t.measurements[0].PM10)+"ug/m3")])]),a("v-row",{staticClass:"title",attrs:{dense:""}},[a("span",{staticClass:"font-weight-bold text--primary mr-1"},[e._v("Wilgotność: ")]),e._v(" "+e._s(t.measurements[0].Humidity)+"% ")])],1)],1)})),1)},K=[],Y=(a("a4d3"),a("e01a"),a("d28b"),a("d3b7"),a("3ca3"),a("ddb0"),a("96cf"),a("89ba")),Q={data:function(){return{devices:[],colors:[{PM1:1,PM25:12,PM10:20,color:"blue--text text--accent-3"},{PM1:3,PM25:36,PM10:60,color:"light-green--text text--darken-1"},{PM1:5,PM25:60,PM10:100,color:"lime--text text--lighten-2"},{PM1:7,PM25:84,PM10:140,color:"amber--text text--darken-2"},{PM1:10,PM25:120,PM10:200,color:"red--text text--lighten-1"},{PM1:9999,PM25:9999,PM10:9999,color:"red--text"}]}},methods:{fetch:function(){var e=Object(Y["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$http.get("/api/last").then((function(e){t.devices=e.data.data.devices,t.loading=!1}));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getColor:function(e,t){switch(t){case"PM1":var a=!0,r=!1,n=void 0;try{for(var i,s=this.colors[Symbol.iterator]();!(a=(i=s.next()).done);a=!0){var o=i.value;if(e<o.PM1)return o.color}}catch(x){r=!0,n=x}finally{try{a||null==s.return||s.return()}finally{if(r)throw n}}break;case"PM25":var c=!0,l=!1,u=void 0;try{for(var d,m=this.colors[Symbol.iterator]();!(c=(d=m.next()).done);c=!0){var p=d.value;if(e<p.PM25)return p.color}}catch(x){l=!0,u=x}finally{try{c||null==m.return||m.return()}finally{if(l)throw u}}break;case"PM10":var v=!0,h=!1,f=void 0;try{for(var g,w=this.colors[Symbol.iterator]();!(v=(g=w.next()).done);v=!0){var b=g.value;if(e<b.PM10)return b.color}}catch(x){h=!0,f=x}finally{try{v||null==w.return||w.return()}finally{if(h)throw f}}break}}},created:function(){this.fetch()}},X=Q,ee=a("b0af"),te=a("99d9"),ae=a("a523"),re=a("0fd9"),ne=Object(v["a"])(X,J,K,!1,null,null,null),ie=ne.exports;f()(ne,{VCard:ee["a"],VCardText:te["b"],VContainer:ae["a"],VListItem:U["a"],VListItemContent:I["a"],VListItemSubtitle:I["b"],VListItemTitle:I["c"],VRow:re["a"]});var se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-row",[a("v-card",{staticClass:"col-8 mx-auto",attrs:{raised:"",shaped:""}},[a("v-card-text",[a("p",{staticClass:"display-1 text--primary"},[e._v("Zaloguj")]),a("v-form",{nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.authenticate()}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{rules:e.rules.credentials.email,type:"email",label:"Email",required:""},model:{value:e.credentials.email,callback:function(t){e.$set(e.credentials,"email",t)},expression:"credentials.email"}}),a("v-text-field",{attrs:{rules:[e.rules.credentials.password.required,e.rules.credentials.password.min],type:"password",label:"Hasło",required:""},model:{value:e.credentials.password,callback:function(t){e.$set(e.credentials,"password",t)},expression:"credentials.password"}})],1)],1),a("v-card-actions",[a("v-btn",{staticClass:"mx-auto font-weight-bold",attrs:{text:"",disabled:!e.valid},on:{click:e.authenticate}},[e._v(" Zaloguj ")])],1)],1)],1)],1)},oe=[],ce=(a("45fc"),a("bc3a")),le=a.n(ce);function ue(e,t){t.beforeEach((function(t,a,r){var n=e.state.currentUser;if(!t.meta.forVisitors||!n){if(t.matched.some((function(e){return e.meta.roles}))){if(!n)return r({path:"/login"});if(!t.meta.roles.includes(n.role.name))return r({path:"/"})}return r()}return r({path:"/"})})),le.a.interceptors.request.use((function(t){var a=e.getters.getToken;return t.headers["Authorization"]="Bearer ".concat(a),t})),le.a.interceptors.response.use(null,(function(a){401===a.response.status&&(e.commit("logout"),t.push("/login"))})),e.getters.currentUser&&de(e.getters.getToken)}function de(e){le.a.defaults.headers.common["Authorization"]="Bearer ".concat(e)}function me(e){return new Promise((function(t){le.a.post("/api/auth/login",e).then((function(e){de(e.data.data.token),t(e.data)})).catch((function(){}))}))}function pe(){var e=localStorage.getItem("user");return e?JSON.parse(e):null}var ve={name:"Login",methods:{authenticate:function(){var e=this;this.$store.dispatch("login"),me(this.$data.credentials).then((function(t){e.$store.commit("loginSuccess",t),e.$router.push({path:"/"})})).catch((function(t){e.$store.commit("loginFailed",{error:t})}))}},data:function(){return{valid:!1,credentials:{email:"",password:""},rules:{credentials:{email:[function(e){return!!e||"Adres email jest wymagany."},function(e){return/.+@.+/.test(e)||"Wprowawdź prawidłowy adres E-mail"}],password:{required:function(e){return!!e||"Hasło jest wymagane."},min:function(e){return e.length>=6||"Minimum 6 znaków."}}}}}}},he=ve,fe=a("4bd4"),ge=a("8654"),we=Object(v["a"])(he,se,oe,!1,null,null,null),be=we.exports;f()(we,{VBtn:g["a"],VCard:ee["a"],VCardActions:te["a"],VCardText:te["b"],VContainer:ae["a"],VForm:fe["a"],VRow:re["a"],VTextField:ge["a"]});var xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-card",{staticClass:"mx-auto col-8",attrs:{raised:"",shaped:""}},[a("v-card-title",[e._v(" Urządzenia "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Szukaj","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{attrs:{headers:e.headers,items:e.devices,search:e.search,loading:e.loading},scopedSlots:e._u([{key:"item.actions",fn:function(t){var r=t.item;return[a("v-btn",{attrs:{text:"",icon:"",color:"info",to:{name:"Device",params:{id:r.id}},elevation:"2"}},[a("v-icon",[e._v("keyboard_arrow_right")])],1)]}}])})],1)],1)},_e=[],ye={name:"DevicesList",loading:!0,data:function(){return{search:"",loading:!0,devices:[],headers:[{text:"Numer seryjny",value:"Device",sortable:!1,align:"left"},{text:"Nazwa",value:"Name"},{text:"Lat",value:"Lat"},{text:"Lon",value:"Lon"},{text:"Token",value:"token"},{value:"actions",sortable:!1,align:"right"}]}},methods:{fetchDevices:function(){var e=Object(Y["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$http.get("/api/devices").then((function(e){t.devices=e.data.data.devices,t.loading=!1}));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},created:function(){this.fetchDevices()}},ke=ye,Ce=a("8fea"),Pe=a("132d"),Ve=Object(v["a"])(ke,xe,_e,!1,null,null,null),Me=Ve.exports;f()(Ve,{VBtn:g["a"],VCard:ee["a"],VCardTitle:te["c"],VContainer:ae["a"],VDataTable:Ce["a"],VIcon:Pe["a"],VSpacer:b["a"],VTextField:ge["a"]});var ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-row",[e.loading?a("v-progress-circular",{staticClass:"mx-auto",attrs:{size:80,indeterminate:"",color:"primary"}}):a("div",{staticClass:"col-12"},[a("v-card",[a("v-card-title",[e._v(" Urządzenie: "+e._s(e.device.Name)+" "),a("v-spacer"),a("v-btn",{attrs:{text:"",icon:"",color:"error",elevation:"2"},on:{click:function(t){return e.removeDevice()}}},[a("v-icon",[e._v("delete")])],1)],1),a("v-card-text",[a("v-row",{attrs:{dense:""}},[a("span",{staticClass:"font-weight-bold text--primary mr-1"},[e._v("Numer urządzenia: ")]),e._v(" "+e._s(e.device.Device)+" ")]),a("v-row",{attrs:{dense:""}},[a("span",{staticClass:"font-weight-bold text--primary mr-1"},[e._v("Nazwa: ")]),e._v(" "+e._s(e.device.Name)+" ")]),a("v-row",{attrs:{dense:""}},[a("span",{staticClass:"font-weight-bold text--primary mr-1"},[e._v("Lat: ")]),e._v(" "+e._s(e.device.Lat)+" ")]),a("v-row",{attrs:{dense:""}},[a("span",{staticClass:"font-weight-bold text--primary mr-1"},[e._v("Lon: ")]),e._v(" "+e._s(e.device.Lon)+" ")]),a("v-row",{attrs:{dense:""}},[a("span",{staticClass:"font-weight-bold text--primary mr-1"},[e._v("Token: ")]),e._v(" "+e._s(e.device.token)+" ")])],1)],1),a("v-card",{staticClass:"mt-4"},[a("v-card-title",[e._v(" Zakres danych "),a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.credentials.start_date=null}}},[e._v(" Wszystkie pomiary ")])],1),a("v-card-text",[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-text-field",e._g({attrs:{label:"Pobierz dane od:","prepend-icon":"event",readonly:""},model:{value:e.credentials.start_date,callback:function(t){e.$set(e.credentials,"start_date",t)},expression:"credentials.start_date"}},r))]}}],null,!1,1542068066),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-date-picker",{attrs:{max:(new Date).toISOString().substr(0,10)},on:{input:function(t){e.menu2=!1}},model:{value:e.credentials.start_date,callback:function(t){e.$set(e.credentials,"start_date",t)},expression:"credentials.start_date"}})],1)],1)],1),a("v-card",{staticClass:"mt-4"},[a("v-card-title",[e._v(" PM1 ")]),a("v-card-text",[a("div",[a("apexchart",{attrs:{type:"area",height:"350",options:e.chartOptions,series:e.getPM1}})],1)])],1),a("v-card",{staticClass:"mt-4"},[a("v-card-title",[e._v(" PM2.5 ")]),a("v-card-text",[a("div",[a("apexchart",{attrs:{type:"area",height:"350",options:e.chartOptions,series:e.getPM25}})],1)])],1),a("v-card",{staticClass:"mt-4"},[a("v-card-title",[e._v(" PM10 ")]),a("v-card-text",[a("div",[a("apexchart",{attrs:{type:"area",height:"350",options:e.chartOptions,series:e.getPM10}})],1)])],1),a("v-card",{staticClass:"mt-4"},[a("v-card-title",[e._v(" Temperatura ")]),a("v-card-text",[a("div",[a("apexchart",{attrs:{type:"area",height:"350",options:e.chartOptions,series:e.getTemperature}})],1)])],1),a("v-card",{staticClass:"mt-4"},[a("v-card-title",[e._v(" Wilgotność ")]),a("v-card-text",[a("div",[a("apexchart",{attrs:{type:"area",height:"350",options:e.chartOptions,series:e.getHumidity}})],1)])],1)],1)],1)],1)},$e=[],je=(a("4160"),a("accc"),a("0d03"),a("159b"),a("1321")),Oe=a.n(je),Te={name:"Device",components:{apexchart:Oe.a},data:function(){return{loading:!0,device:[],PM1:[],PM10:[],PM25:[],Temperature:[],Humidity:[],menu:!1,credentials:{start_date:(new Date).toISOString().substr(0,10)},chartOptions:{chart:{zoom:{enabled:!0,autoScaleYaxis:!0},toolbar:{autoSelected:"zoom"},defaultLocale:"pl",locales:[{name:"pl",options:{months:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Spierpień","Wrzesień","Październik","Listopad","Grudzień"],shortMonths:["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Paź","Lis","Gru"],days:["Niedziela","Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota"],shortDays:["Nie","Pon","Wto","Śro","Czw","Pią","Sob"],toolbar:{download:"Pobierz SVG",selection:"Zaznaczenie",selectionZoom:"Przybliżenie zaznaczenia",zoomIn:"Przybliżenie",zoomOut:"Oddalenie",pan:"Przesuwanie",reset:"Resetuj przybliżenie"}}}]},xaxis:{type:"datetime"}}}},methods:{fetchDevice:function(){var e=Object(Y["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$http.get("/api/device/".concat(this.$route.params.id)).then((function(e){t.device=e.data.data.device,t.loading=!1,t.fetchMeasurements()}));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),fetchMeasurements:function(){var e=this;this.$http.post("/api/measurements/".concat(this.$route.params.id),this.credentials).then((function(t){e.PM1=[],e.PM10=[],e.PM25=[],e.Temperature=[],e.Humidity=[],t.data.data.measurements.forEach((function(t){e.PM1.push([t.created_at,t.PM1]),e.PM10.push([t.created_at,t.PM10]),e.PM25.push([t.created_at,t.PM25]),e.Temperature.push([t.created_at,t.Temperature]),e.Humidity.push([t.created_at,t.Humidity])}))}))},removeDevice:function(){var e=Object(Y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$http.delete("/api/device/".concat(this.device.id)),this.$router.push("/devices");case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},created:function(){this.fetchDevice()},computed:{getPM1:function(){return[{name:"PM1",data:this.PM1}]},getPM25:function(){return[{name:"PM25",data:this.PM25}]},getPM10:function(){return[{name:"PM10",data:this.PM10}]},getTemperature:function(){return[{name:"Temperatura",data:this.Temperature}]},getHumidity:function(){return[{name:"Humidity",data:this.Humidity}]}},watch:{"credentials.start_date":function(){this.fetchMeasurements()}}},Se=Te,Re=(a("0a07"),a("2e4b")),Ue=a("e449"),Le=a("490a"),Ie=Object(v["a"])(Se,ze,$e,!1,null,null,null),De=Ie.exports;f()(Ie,{VBtn:g["a"],VCard:ee["a"],VCardText:te["b"],VCardTitle:te["c"],VContainer:ae["a"],VDatePicker:Re["a"],VIcon:Pe["a"],VMenu:Ue["a"],VProgressCircular:Le["a"],VRow:re["a"],VSpacer:b["a"],VTextField:ge["a"]});var Ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-row",[a("v-card",{staticClass:"col-8 mx-auto",attrs:{raised:"",shaped:""}},[a("v-card-text",[a("p",{staticClass:"display-1 text--primary"},[e._v("Tworzenie urządzenia")]),a("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{label:"Identyfikator Looko2 urządzenia",required:""},model:{value:e.credentials.id,callback:function(t){e.$set(e.credentials,"id",t)},expression:"credentials.id"}}),a("v-text-field",{attrs:{label:"Token urządzenia",required:""},model:{value:e.credentials.token,callback:function(t){e.$set(e.credentials,"token",t)},expression:"credentials.token"}})],1)],1),a("v-card-actions",[a("v-btn",{staticClass:"mx-auto font-weight-bold",attrs:{text:"",disabled:!e.valid},on:{click:e.createDevice}},[e._v(" Dodaj urządzenie ")])],1)],1)],1)],1)},Ee=[],Fe=(a("99af"),{name:"CreateDevice",data:function(){return{valid:!1,credentials:{id:"",token:""}}},methods:{createDevice:function(){var e=Object(Y["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$http.post("/api/fetch/device/".concat(this.credentials.id,"/").concat(this.credentials.token),this.credentials).then((function(){t.$toasted.show("Utworzono urządzenie",{type:"success"})}));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}}),He=Fe,qe=Object(v["a"])(He,Ne,Ee,!1,null,null,null),Be=qe.exports;f()(qe,{VBtn:g["a"],VCard:ee["a"],VCardActions:te["a"],VCardText:te["b"],VContainer:ae["a"],VForm:fe["a"],VRow:re["a"],VTextField:ge["a"]});var Ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-card",{staticClass:"mx-auto col-8",attrs:{raised:"",shaped:""}},[a("v-card-title",[e._v(" Użytkownicy "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Szukaj","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{attrs:{headers:e.headers,items:e.users,search:e.search,loading:e.loading},scopedSlots:e._u([{key:"item.actions",fn:function(t){var r=t.item;return[a("v-btn",{attrs:{text:"",icon:"",color:"info",to:{name:"User",params:{id:r.id}},elevation:"2"}},[a("v-icon",[e._v("keyboard_arrow_right")])],1)]}}])})],1)],1)},We=[],Ze={name:"UsersList",loading:!0,data:function(){return{search:"",loading:!0,users:[],headers:[{text:"Imię",value:"name",align:"left"},{text:"Nazwisko",value:"surname"},{text:"Email",value:"email"},{text:"Indeks",value:"index"},{value:"actions",sortable:!1,align:"right"}]}},methods:{fetchUsers:function(){var e=Object(Y["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$http.get("/api/users").then((function(e){t.users=e.data.data.users,t.loading=!1}));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},created:function(){this.fetchUsers()}},Ge=Ze,Je=Object(v["a"])(Ge,Ae,We,!1,null,null,null),Ke=Je.exports;f()(Je,{VBtn:g["a"],VCard:ee["a"],VCardTitle:te["c"],VContainer:ae["a"],VDataTable:Ce["a"],VIcon:Pe["a"],VSpacer:b["a"],VTextField:ge["a"]});var Ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-row",[e.loading?a("v-progress-circular",{staticClass:"mx-auto",attrs:{size:80,indeterminate:"",color:"primary"}}):a("div",{staticClass:"col-12"},[a("v-card",[a("v-card-title",[e._v(" Użytkownik: "+e._s(e.user.name)+" "+e._s(e.user.surname)+" "),a("v-spacer"),a("v-btn",{attrs:{text:"",icon:"",color:"error",elevation:"2"},on:{click:function(t){return e.removeUser()}}},[a("v-icon",[e._v("delete")])],1)],1),a("v-card-text",[e.user.name?a("v-row",{attrs:{dense:""}},[a("span",{staticClass:"font-weight-bold text--primary mr-1"},[e._v("Imię: ")]),e._v(" "+e._s(e.user.name)+" ")]):e._e(),e.user.surname?a("v-row",{attrs:{dense:""}},[a("span",{staticClass:"font-weight-bold text--primary mr-1"},[e._v("Nazwisko: ")]),e._v(" "+e._s(e.user.surname)+" ")]):e._e(),e.user.email?a("v-row",{attrs:{dense:""}},[a("span",{staticClass:"font-weight-bold text--primary mr-1"},[e._v("Email: ")]),e._v(" "+e._s(e.user.email)+" ")]):e._e(),e.user.index?a("v-row",{attrs:{dense:""}},[a("span",{staticClass:"font-weight-bold text--primary mr-1"},[e._v("Indeks: ")]),e._v(" "+e._s(e.user.index)+" ")]):e._e()],1)],1),a("v-card",{staticClass:"mt-4"},[a("v-card-title",[e._v(" Rola użytkownika ")]),a("v-card-text",[a("v-select",{attrs:{items:e.roles,label:"Rola użytkownika","item-text":"name","return-object":""},model:{value:e.role,callback:function(t){e.role=t},expression:"role"}})],1)],1),a("v-card",{staticClass:"mt-4"},[a("v-card-title",[e._v(" Zmiana hasła ")]),a("v-card-text",[a("v-text-field",{attrs:{label:"Nowe hasło",type:"password"},model:{value:e.credentials.password,callback:function(t){e.$set(e.credentials,"password",t)},expression:"credentials.password"}}),a("v-btn",{staticClass:"mx-auto",attrs:{text:""},on:{click:e.changePassword}},[e._v(" Zmień hasło ")])],1)],1)],1)],1)],1)},Qe=[],Xe={name:"User",data:function(){return{loading:!0,user:[],roles:[],role:[],credentials:{password:""}}},methods:{fetchUser:function(){var e=Object(Y["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$http.get("/api/user/".concat(this.$route.params.id)).then((function(e){t.user=e.data.data.user,t.role=t.user.role,t.loading=!1}));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),fetchRoles:function(){var e=Object(Y["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$http.get("/api/roles").then((function(e){t.roles=e.data.data.roles,t.loading=!1}));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),changeRole:function(){var e=Object(Y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$http.post("/api/user/".concat(this.user.id,"/role/").concat(this.role.id)).then((function(){}));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),changePassword:function(){var e=Object(Y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$http.post("/api/user/".concat(this.user.id,"/password"),this.credentials).then((function(){}));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),removeUser:function(){var e=Object(Y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.delete("/api/user/".concat(this.user.id));case 2:this.$router.push("/users");case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},created:function(){this.fetchUser(),this.fetchRoles()},watch:{role:function(){this.changeRole()}}},et=Xe,tt=a("b974"),at=Object(v["a"])(et,Ye,Qe,!1,null,null,null),rt=at.exports;f()(at,{VBtn:g["a"],VCard:ee["a"],VCardText:te["b"],VCardTitle:te["c"],VContainer:ae["a"],VIcon:Pe["a"],VProgressCircular:Le["a"],VRow:re["a"],VSelect:tt["a"],VSpacer:b["a"],VTextField:ge["a"]});var nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-row",[a("v-card",{staticClass:"col-8 mx-auto",attrs:{raised:"",shaped:""}},[a("v-card-text",[a("p",{staticClass:"display-1 text--primary"},[e._v("Dodawanie użytkownika")]),a("v-form",[a("v-text-field",{attrs:{label:"Imię",required:""},model:{value:e.credentials.name,callback:function(t){e.$set(e.credentials,"name",t)},expression:"credentials.name"}}),a("v-text-field",{attrs:{label:"Nazwisko",required:""},model:{value:e.credentials.surname,callback:function(t){e.$set(e.credentials,"surname",t)},expression:"credentials.surname"}}),a("v-text-field",{attrs:{label:"Email",required:""},model:{value:e.credentials.email,callback:function(t){e.$set(e.credentials,"email",t)},expression:"credentials.email"}}),a("v-text-field",{attrs:{label:"Index",required:""},model:{value:e.credentials.index,callback:function(t){e.$set(e.credentials,"index",t)},expression:"credentials.index"}}),a("v-text-field",{attrs:{label:"Hasło",required:""},model:{value:e.credentials.password,callback:function(t){e.$set(e.credentials,"password",t)},expression:"credentials.password"}}),a("v-select",{attrs:{items:e.roles,label:"Rola użytkownika","item-text":"name","item-value":"id"},model:{value:e.credentials.role_id,callback:function(t){e.$set(e.credentials,"role_id",t)},expression:"credentials.role_id"}})],1)],1),a("v-card-actions",[a("v-btn",{staticClass:"mx-auto font-weight-bold",attrs:{text:""},on:{click:e.createUser}},[e._v(" Dodaj użytkownika ")])],1)],1)],1)],1)},it=[],st={name:"CreateUser",data:function(){return{credentials:{name:"",surname:"",email:"",password:"",index:"",role_id:""},roles:[]}},methods:{createUser:function(){var e=Object(Y["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$http.post("/api/user",this.credentials).then((function(){t.$toasted.show("Utworzono użytkownika",{type:"success"})}));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),fetchRoles:function(){var e=Object(Y["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$http.get("/api/roles").then((function(e){t.roles=e.data.data.roles,t.loading=!1}));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},created:function(){this.fetchRoles()}},ot=st,ct=Object(v["a"])(ot,nt,it,!1,null,null,null),lt=ct.exports;f()(ct,{VBtn:g["a"],VCard:ee["a"],VCardActions:te["a"],VCardText:te["b"],VContainer:ae["a"],VForm:fe["a"],VRow:re["a"],VSelect:tt["a"],VTextField:ge["a"]}),r["a"].use(G["a"]);var ut=new G["a"]({mode:"history",routes:[{path:"/",name:"HomePage",component:ie},{path:"/login",name:"Login",component:be},{path:"/devices",name:"Devices",component:Me,meta:{roles:["administrator","user"]}},{path:"/device/:id",name:"Device",component:De,props:!0,meta:{roles:["administrator","user"]}},{path:"/device/create",name:"Create",component:Be,meta:{roles:["administrator"]}},{path:"/users",name:"Users",component:Ke,meta:{roles:["administrator"]}},{path:"/user/create",name:"CreateUser",component:lt,meta:{roles:["administrator"]}},{path:"/user/:id",name:"User",component:rt,props:!0,meta:{roles:["administrator","user"]}}]}),dt=a("f309"),mt=(a("bf40"),a("d1e78"),a("7597"));r["a"].use(dt["a"]);var pt=new dt["a"]({icons:{iconfont:"mdi"},lang:{locales:{pl:mt["a"]},current:"pl"}}),vt=a("a7fe"),ht=a.n(vt),ft=a("2f62");r["a"].use(ft["a"]);var gt=pe(),wt=new ft["a"].Store({state:{currentUser:gt,loading:!1,auth_error:null},getters:{isLoading:function(e){return e.loading},currentUser:function(e){return e.currentUser},authError:function(e){return e.auth_error},getToken:function(e){if(e.currentUser)return e.currentUser.token}},mutations:{login:function(e){e.loading=!0,e.auth_error=null},loginSuccess:function(e,t){e.auth_error=null,e.isLoggedIn=!0,e.loading=!1,e.currentUser=Object.assign({},t.data.user,{token:t.data.token}),localStorage.setItem("user",JSON.stringify(e.currentUser)),r["a"].toasted.show("Zalogowano",{type:"success"})},loginFailed:function(e,t){e.loading=!1,e.auth_error=t.error,r["a"].toasted.show("Błąd podczas logowania",{type:"error"})},logout:function(e){localStorage.removeItem("user"),e.isLoggedIn=!1,e.currentUser=null,r["a"].toasted.show("Wylogowano",{type:"success"})}},actions:{login:function(e){e.commit("login")}}}),bt=a("a65d"),xt=a.n(bt);r["a"].use(ft["a"]),r["a"].use(xt.a,{theme:"bubble",position:"top-center",duration:5e3}),r["a"].config.productionTip=!1,r["a"].use(ht.a,le.a),le.a.defaults.baseURL="https://backend.pwsz-pum.sikorski.dev/",ue(wt,ut),new r["a"]({vuetify:pt,router:ut,store:wt,render:function(e){return e(Z)}}).$mount("#app")},fc4a:function(e,t,a){}});
//# sourceMappingURL=app.014fc0bc.js.map